/*! @hackmd/js-url - v2.6.4 - 2021-04-14 */
!function(){function t(t,r){var a,o={};if("tld?"!==t){if(r=r||window.location.toString(),!t)return r;if(t=t.toString(),a=r.match(/^mailto:([^\/].+)/))o.protocol="mailto",o.email=a[1];else{if((a=(r=(a=r.match(/(.*?)\/#\!(.*)/))?a[1]+a[2]:r).match(/(.*?)#(.*)/))&&(o.hash=a[2],r=a[1]),o.hash&&t.match(/^#/))return h(t,o.hash);if((a=r.match(/(.*?)\?(.*)/))&&(o.query=a[2],r=a[1]),o.query&&t.match(/^\?/))return h(t,o.query);if((a=r.match(/(.*?)\:?\/\/(.*)/))&&(o.protocol=a[1].toLowerCase(),r=a[2]),(a=r.match(/(.*?)(\/.*)/))&&(o.path=a[2],r=a[1]),o.path=(o.path||"").replace(/^([^\/])/,"/$1"),(t=t.match(/^[\-0-9]+$/)?t.replace(/^([^\/])/,"/$1"):t).match(/^\//))return e(t,o.path.substring(1));if((a=(a=e("/-1",o.path.substring(1)))&&a.match(/(.*?)\.([^.]+)$/))&&(o.file=a[0],o.filename=a[1],o.fileext=a[2]),(a=r.match(/(.*)\:([0-9]+)$/))&&(o.port=a[2],r=a[1]),(a=r.match(/(.*?)@(.*)/))&&(o.auth=a[1],r=a[2]),o.auth&&(a=o.auth.match(/(.*)\:(.*)/),o.user=a?a[1]:o.auth,o.pass=a?a[2]:void 0),o.hostname=r.toLowerCase(),"."===t.charAt(0))return e(t,o.hostname);void 0,o.port=o.port||("https"===o.protocol?"443":"80"),o.protocol=o.protocol||("443"===o.port?"https":"http")}return t in o?o[t]:"{}"===t?o:void 0}}function e(t,r){var a=t.charAt(0),r=r.split(a);return a===t?r:r[(t=parseInt(t.substring(1),10))<0?r.length+t:t-1]}function h(t,r){for(var a,o,e=t.charAt(0),h=r.split("&"),n=[],c={},i=t.substring(1),p=0,u=h.length;p<u;p++)if(""!==(n=(n=h[p].match(/(.*?)=(.*)/))||[h[p],h[p],""])[1].replace(/\s/g,"")){if(n[2]=(o=n[2]||"",decodeURIComponent(o.replace(/\+/g," "))),i===n[1])return n[2];(a=n[1].match(/(.*)\[([0-9]+)\]/))?(c[a[1]]=c[a[1]]||[],c[a[1]][a[2]]=n[2]):c[n[1]]=n[2]}return e===t?c:c[i]}window.url=t}();